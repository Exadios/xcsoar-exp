
#test_includes = include_directories('srcs')

test_project = subproject('test_sources')
xcsoar_test_sources     = test_project.get_variable('test_sources')
feednmea_sources        = test_project.get_variable('feednmea_sources')
feedgdl90_sources       = test_project.get_variable('feedgdl90_sources')
testflarmchain_sources  = test_project.get_variable('testflarmchain_sources')
testgdl90_sources       = test_project.get_variable('testgdl90_sources')
nmea2gdl90_sources      = test_project.get_variable('nmea2gdl90_sources')
appendflarmcksm_sources = test_project.get_variable('appendflarmcksm_sources')

xcsoar = subproject('xcsoar_sources')
xcsoar_sources = xcsoar.get_variable('xcsoar_sources')

some_xcsoar_sources = [
                      ]

feednmea = executable('feedNMEA', feednmea_sources, some_xcsoar_sources,
                      link_with : [  
                                    task_lib,
                                    geo_lib,
#                                    lua_lib,
#                                    vega_lib,
#                                    bluefly_lib,
#                                    volkslogger_lib,
                                    thread_lib,
#                                    look_lib,
#                                    mapwindow_lib,
#                                    profile_lib,
#                                    airspace_lib,
                                    form_lib,
#                                    flytec_lib,
#                                    imi_lib,
#                                    infobox_lib,
                                    client_lib,
#                                    cai302_lib,
                                    os_lib,
#                                    glide_lib,
                                    operation_lib,
                                    driver_lib,
#                                    datafield_lib,
#                                    terrain_lib,
                                    http_lib,
                                    lx_lib,
#                                    contest_lib,
#                                    widget_lib,
#                                    topo_lib,
#                                    route_lib,
                                    screencustom_lib,
                                    screencustomimg_lib,
                                    time_lib,
                                    flarm_lib,
                                    co_lib,
#                                    thermalexpress_lib,
                                    computer_lib,
                                    event_lib,
#                                    screen_lib,
                                    async_lib,
                                    math_lib,
                                    adsb_lib,
                                    xctracer_lib,
                                    util_lib,
#                                    cloudtokml_lib,
                                    port_lib,
#                                    shapelib_lib,
#                                    audio_lib,
                                    io_lib,
                                    net_lib,
#                                    waypoint_lib,
                                    nmea_lib,
#                                    zzip_lib,
#                                    json_lib,
#                                    egm96s_lib,
#                                    jasper_lib,
#                                    resources_lib,
#                                    resource_lib,
#                                    surveillance_lib,
                                  ],
                      include_directories : [
                                              test_includes,
                                              common_includes,
                                            ],
                      dependencies: [ 
                                      lua5_4,
                                      glu1_mesa_dev,
                                      curl_dev, 
                                      freetype_dev,
                                      cares_dev,
                                      png16_dev,
                                      libjpeg_dev,
                                      libasound2_dev,
                                      libsodium_dev,
                                      libtiff_dev,
                                      libgeotiff_dev,
                                      libssl_dev,
                                      libjpeg_dev,
                                      libm,
                                      libz,
                                      x11,
                                      glx,
                                      gl,
                                      glu,
                                      libpthread,
                                    ],
                      cpp_args : xcsoar_cpp_args,)

#testflarmchain = executable('testflarmchain', testflarmchain_sources,
#                            include_directories : [ 
#                                                    test_includes,
#                                                    common_includes
#                                                  ],
#                            link_with : [  
#                                          task_lib,
#                                          geo_lib,
##                                          lua_lib,
##                                          vega_lib,
##                                          bluefly_lib,
##                                          volkslogger_lib,
#                                          thread_lib,
##                                          look_lib,
##                                          mapwindow_lib,
##                                          profile_lib,
##                                          airspace_lib,
#                                          form_lib,
##                                          flytec_lib,
##                                          imi_lib,
##                                          infobox_lib,
#                                          client_lib,
##                                          cai302_lib,
#                                          os_lib,
##                                          glide_lib,
#                                          operation_lib,
#                                          driver_lib,
##                                          datafield_lib,
##                                          terrain_lib,
#                                          http_lib,
#                                          lx_lib,
##                                          contest_lib,
##                                          widget_lib,
##                                          topo_lib,
##                                         route_lib,
#                                         screencustom_lib,
#                                         screencustomimg_lib,
#                                         time_lib,
#                                         flarm_lib,
#                                         co_lib,
##                                         thermalexpress_lib,
#                                         computer_lib,
#                                         event_lib,
##                                         screen_lib,
#                                         async_lib,
#                                         math_lib,
#                                         adsb_lib,
#                                         xctracer_lib,
#                                         util_lib,
##                                         cloudtokml_lib,
#                                         port_lib,
##                                         shapelib_lib,
##                                         audio_lib,
#                                         io_lib,
#                                         net_lib,
##                                         waypoint_lib,
#                                         nmea_lib,
##                                         zzip_lib,
##                                         json_lib,
#                                         egm96s_lib,
##                                         jasper_lib,
##                                         resources_lib,
##                                         resource_lib,
#                                         surveillance_lib,
#                                        ],
#
#                           )

feeddgl90 = executable('feedGDL90', feedgdl90_sources, some_xcsoar_sources,
                       link_with : [  
                                    task_lib,
                                    geo_lib,
#                                    lua_lib,
#                                    vega_lib,
#                                    bluefly_lib,
#                                    volkslogger_lib,
                                    thread_lib,
#                                    look_lib,
#                                    mapwindow_lib,
#                                    profile_lib,
#                                    airspace_lib,
                                    form_lib,
#                                    flytec_lib,
#                                    imi_lib,
#                                    infobox_lib,
                                    client_lib,
#                                    cai302_lib,
                                    os_lib,
#                                    glide_lib,
                                    operation_lib,
                                    driver_lib,
#                                    datafield_lib,
#                                    terrain_lib,
                                    http_lib,
                                    lx_lib,
#                                    contest_lib,
#                                    widget_lib,
#                                    topo_lib,
#                                    route_lib,
                                    screencustom_lib,
                                    screencustomimg_lib,
                                    time_lib,
                                    flarm_lib,
                                    co_lib,
#                                    thermalexpress_lib,
                                    computer_lib,
                                    event_lib,
#                                    screen_lib,
                                    async_lib,
                                    math_lib,
                                    adsb_lib,
                                    xctracer_lib,
                                    util_lib,
#                                    cloudtokml_lib,
                                    port_lib,
#                                    shapelib_lib,
#                                    audio_lib,
                                    io_lib,
                                    net_lib,
#                                    waypoint_lib,
                                    nmea_lib,
#                                    zzip_lib,
#                                    json_lib,
#                                    egm96s_lib,
#                                    jasper_lib,
#                                    resources_lib,
#                                    resource_lib,
#                                    surveillance_lib,
                                   ],
                      include_directories : [
                                              test_includes,
                                              common_includes,
                                            ],
                      dependencies: [ 
                                      lua5_4,
                                      glu1_mesa_dev,
                                      curl_dev, 
                                      freetype_dev,
                                      cares_dev,
                                      png16_dev,
                                      libjpeg_dev,
                                      libasound2_dev,
                                      libsodium_dev,
                                      libtiff_dev,
                                      libgeotiff_dev,
                                      libssl_dev,
                                      libjpeg_dev,
                                      libm,
                                      libz,
                                      x11,
                                      glx,
                                      gl,
                                      glu,
                                      libpthread,
                                    ],
                      cpp_args : xcsoar_cpp_args,)

testgl90 = executable('testGDL90', testgdl90_sources, some_xcsoar_sources,
                       link_with : [  
                                    task_lib,
                                    geo_lib,
#                                    lua_lib,
#                                    vega_lib,
#                                    bluefly_lib,
#                                    volkslogger_lib,
                                    thread_lib,
#                                    look_lib,
#                                    mapwindow_lib,
#                                    profile_lib,
#                                    airspace_lib,
                                    form_lib,
#                                    flytec_lib,
#                                    imi_lib,
#                                    infobox_lib,
                                    client_lib,
#                                    cai302_lib,
                                    os_lib,
#                                    glide_lib,
                                    operation_lib,
                                    driver_lib,
#                                    datafield_lib,
#                                    terrain_lib,
                                    http_lib,
                                    lx_lib,
#                                    contest_lib,
#                                    widget_lib,
#                                    topo_lib,
#                                    route_lib,
                                    screencustom_lib,
                                    screencustomimg_lib,
                                    time_lib,
                                    flarm_lib,
                                    co_lib,
#                                    thermalexpress_lib,
                                    computer_lib,
                                    event_lib,
#                                    screen_lib,
                                    async_lib,
                                    math_lib,
                                    adsb_lib,
                                    xctracer_lib,
                                    util_lib,
#                                    cloudtokml_lib,
                                    port_lib,
#                                    shapelib_lib,
#                                    audio_lib,
                                    io_lib,
                                    net_lib,
#                                    waypoint_lib,
                                    nmea_lib,
#                                    zzip_lib,
#                                    json_lib,
#                                    egm96s_lib,
#                                    jasper_lib,
#                                    resources_lib,
#                                    resource_lib,
#                                    surveillance_lib,
                                   ],
                      include_directories : [
                                              test_includes,
                                              common_includes,
                                            ],
                      dependencies: [ 
                                      lua5_4,
                                      glu1_mesa_dev,
                                      curl_dev, 
                                      freetype_dev,
                                      cares_dev,
                                      png16_dev,
                                      libjpeg_dev,
                                      libasound2_dev,
                                      libsodium_dev,
                                      libtiff_dev,
                                      libgeotiff_dev,
                                      libssl_dev,
                                      libjpeg_dev,
                                      libm,
                                      libz,
                                      x11,
                                      glx,
                                      gl,
                                      glu,
                                      libpthread,
                                    ],
                      cpp_args : xcsoar_cpp_args,)

nmea2gdl90 = executable('NMEA2GDL90', nmea2gdl90_sources, some_xcsoar_sources,
                        link_with : [  
                                     task_lib,
                                     geo_lib,
#                                     lua_lib,
#                                     vega_lib,
#                                     bluefly_lib,
#                                     volkslogger_lib,
                                     thread_lib,
#                                     look_lib,
#                                     mapwindow_lib,
#                                     profile_lib,
#                                     airspace_lib,
                                     form_lib,
#                                     flytec_lib,
#                                     imi_lib,
#                                     infobox_lib,
                                     client_lib,
#                                     cai302_lib,
                                     os_lib,
#                                     glide_lib,
                                     operation_lib,
                                     driver_lib,
#                                     datafield_lib,
#                                     terrain_lib,
                                     http_lib,
                                     lx_lib,
#                                     contest_lib,
#                                     widget_lib,
#                                     topo_lib,
#                                     route_lib,
                                     screencustom_lib,
                                     screencustomimg_lib,
                                     time_lib,
                                     flarm_lib,
                                     co_lib,
#                                     thermalexpress_lib,
                                     computer_lib,
                                     event_lib,
#                                     screen_lib,
                                     async_lib,
                                     math_lib,
                                     adsb_lib,
                                     xctracer_lib,
                                     util_lib,
#                                     cloudtokml_lib,
                                     port_lib,
#                                     shapelib_lib,
#                                     audio_lib,
                                     io_lib,
                                     net_lib,
#                                     waypoint_lib,
                                     nmea_lib,
#                                     zzip_lib,
#                                     json_lib,
                                     egm96s_lib,
#                                     jasper_lib,
#                                     resources_lib,
#                                     resource_lib,
                                     surveillance_lib,
                                   ],
                       include_directories : [
                                              test_includes,
                                              common_includes,
                                             ],
                       dependencies: [ 
                                      lua5_4,
                                      glu1_mesa_dev,
                                      curl_dev, 
                                      freetype_dev,
                                      cares_dev,
                                      png16_dev,
                                      libjpeg_dev,
                                      libasound2_dev,
                                      libsodium_dev,
                                      libtiff_dev,
                                      libgeotiff_dev,
                                      libssl_dev,
                                      libjpeg_dev,
                                      libm,
                                      libz,
                                      x11,
                                      glx,
                                      gl,
                                      glu,
                                      libpthread,
                                     ],
                       cpp_args : xcsoar_cpp_args,)


appendflarmcksm = executable('appendflarmcksm', appendflarmcksm_sources, some_xcsoar_sources,
                        link_with : [  
                                     task_lib,
                                     geo_lib,
#                                     lua_lib,
#                                     vega_lib,
#                                     bluefly_lib,
#                                     volkslogger_lib,
                                     thread_lib,
#                                     look_lib,
#                                     mapwindow_lib,
#                                     profile_lib,
#                                     airspace_lib,
                                     form_lib,
#                                     flytec_lib,
#                                     imi_lib,
#                                     infobox_lib,
                                     client_lib,
#                                     cai302_lib,
                                     os_lib,
#                                     glide_lib,
                                     operation_lib,
                                     driver_lib,
#                                     datafield_lib,
#                                     terrain_lib,
                                     http_lib,
                                     lx_lib,
#                                     contest_lib,
#                                     widget_lib,
#                                     topo_lib,
#                                     route_lib,
                                     screencustom_lib,
                                     screencustomimg_lib,
                                     time_lib,
                                     flarm_lib,
                                     co_lib,
#                                     thermalexpress_lib,
                                     computer_lib,
                                     event_lib,
#                                     screen_lib,
                                     async_lib,
                                     math_lib,
                                     adsb_lib,
                                     xctracer_lib,
                                     util_lib,
#                                     cloudtokml_lib,
                                     port_lib,
#                                     shapelib_lib,
#                                     audio_lib,
                                     io_lib,
                                     net_lib,
#                                     waypoint_lib,
                                     nmea_lib,
#                                     zzip_lib,
#                                     json_lib,
                                     egm96s_lib,
#                                     jasper_lib,
#                                     resources_lib,
#                                     resource_lib,
                                     surveillance_lib,
                                   ],
                       include_directories : [
                                              test_includes,
                                              common_includes,
                                             ],
                       dependencies: [ 
                                      lua5_4,
                                      glu1_mesa_dev,
                                      curl_dev, 
                                      freetype_dev,
                                      cares_dev,
                                      png16_dev,
                                      libjpeg_dev,
                                      libasound2_dev,
                                      libsodium_dev,
                                      libtiff_dev,
                                      libgeotiff_dev,
                                      libssl_dev,
                                      libjpeg_dev,
                                      libm,
                                      libz,
                                      x11,
                                      glx,
                                      gl,
                                      glu,
                                      libpthread,
                                     ],
                       cpp_args : xcsoar_cpp_args,)

